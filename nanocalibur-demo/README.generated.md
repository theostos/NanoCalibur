# NanoCalibur Generated Canvas Runtime Input

This folder is generated by `nanocalibur/build_web_scene.py`.

Included files:
- `game_spec.json`
- `game_ir.json`
- `game_logic.ts`
- `interpreter.ts`
- `runtime_core.ts`
- `canvas_host.ts`
- `headless_host.ts`
- `headless_http_server.ts`
- `symbolic_renderer.ts`
- `bridge.ts`
- `index.ts`
- `node.ts`

## Usage in a TypeScript web project

1. Place this folder in your project under `src/nanocalibur_generated`.

2. In your app entry file, add:

```ts
import { attachNanoCalibur } from './nanocalibur_generated';

const canvas = document.getElementById('game');
if (!(canvas instanceof HTMLCanvasElement)) {
  throw new Error('Canvas element #game not found.');
}

const host = attachNanoCalibur(canvas);

void host.start();
```

Notes:
- `CanvasHost` handles a fixed-step update loop, keyboard/mouse input phases, and actor collisions.
- `HeadlessHost` runs the same core logic without a browser canvas and exposes symbolic frames for LLM/RL loops.
- `HeadlessHttpServer` exposes HTTP endpoints (`/tools`, `/tools/call`, `/frame`, `/state`, `/step`) for remote clients.
- `NanoCaliburMCPServer` provides a minimal MCP-style `tools/list` and `tools/call` handler on top of `HeadlessHost`.
- Browser apps should import from `index.ts`; Node-only HTTP helpers are isolated in `node.ts`.
- Basic physics, sprite animation, and image preloading are configurable through `CanvasHostOptions`.
- Runtime logic is driven by `game_spec.json` + `game_logic.ts`.
